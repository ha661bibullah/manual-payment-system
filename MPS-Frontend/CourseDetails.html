<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <title>প্রাকটিকাল ইবারত শিক্ষা</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap');
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Hind Siliguri', 'Bangla', sans-serif;
        }
        
        :root {
            --primary-color: #5e35b1;
            --secondary-color: #43a047;
            --accent-color: #ff6f00;
            --text-color: #2d3436;
            --light-bg: #f5f5f5;
            --card-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            --gradient-bg: linear-gradient(135deg, #5e35b1 0%, #3949ab 100%);
            --border-radius: 12px;
        }
        
        body {
            background-color: var(--light-bg);
            color: var(--text-color);
            line-height: 1.6;
            font-size: 16px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 25px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 35px;
            background: var(--gradient-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
        }
        
        header h1 {
            font-size: 38px;
            font-weight: bold;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.5px;
        }
        
        .tab-container {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 12px 24px;
            background-color: white;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            font-weight: 500;
            border: 1px solid transparent;
        }
        
        .tab.active {
            background: var(--gradient-bg);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(94, 53, 177, 0.3);
        }
        
        .tab:hover:not(.active) {
            background-color: rgba(94, 53, 177, 0.1);
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }
        
        .course-details {
            display: flex;
            gap: 35px;
        }
        
        .main-content {
            flex: 2;
        }
        
        .sidebar {
            flex: 1;
        }
        
        .course-image {
            width: 100%;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
            overflow: hidden;
        }
        
        .course-image:hover {
            transform: scale(1.02);
        }
        
        .course-instructor {
            display: flex;
            align-items: center;
            padding: 0;
            margin: 0;
            margin-bottom: 25px;
        }
        
        .instructor-image {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            margin-right: 20px;
            object-fit: cover;
            border: 3px solid var(--primary-color);
            box-shadow: 0 4px 10px rgba(94, 53, 177, 0.3);
        }
        
        .instructor-details h3 {
            font-size: 20px;
            margin-bottom: 5px;
            color: var(--primary-color);
        }
        
        .instructor-details p {
            color: #555;
            font-size: 15px;
            margin-bottom: 5px;
        }
        
        .instructor-details .experience {
            color: var(--primary-color);
            font-weight: 500;
            display: inline-block;
            padding: 3px 8px;
            background: rgba(94, 53, 177, 0.1);
            border-radius: 4px;
        }
        
        .course-pricing {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
            text-align: center;    
        }
        
        .course-pricing::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-bg);
        }
        
        .price {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .current-price {
            font-size: 32px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .original-price {
            font-size: 20px;
            text-decoration: line-through;
            color: #999;
            margin-left: 12px;
        }
        
        .buy-btn {
            background: var(--gradient-bg);
            color: white;
            border: none;
            padding: 14px;
            width: 100%;
            border-radius: var(--border-radius);
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(94, 53, 177, 0.3);
            letter-spacing: 0.5px;
            text-decoration: none;
            display: block;
            text-align: center;
        }
        
        .active-course-btn {
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 14px;
            width: 100%;
            border-radius: var(--border-radius);
            font-size: 18px;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(67, 160, 71, 0.3);
            letter-spacing: 0.5px;
            text-align: center;
        }
        
        .course-stats {
            margin-top: 20px;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px 0;
            border-bottom: 1px dashed rgba(94, 53, 177, 0.2);
        }
        
        .stat-item:last-child {
            border-bottom: none;
        }
        
        .stat-icon {
            color: var(--primary-color);
            margin-right: 12px;
            font-size: 18px;
        }
        
        .content-box {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }
        
        .content-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--gradient-bg);
        }
        
        .content-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary-color);
            border-bottom: 1px solid rgba(94, 53, 177, 0.2);
            padding-bottom: 12px;
            position: relative;
        }
        
        .content-text {
            color: #444;
            line-height: 1.8;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .read-more {
            color: var(--primary-color);
            font-weight: 500;
            cursor: pointer;
            display: inline-block;
            margin-top: 10px;
            padding: 5px 10px;
            border-radius: 4px;
            background: rgba(94, 53, 177, 0.1);
            transition: all 0.3s;
        }
        
        .read-more:hover {
            background: rgba(94, 53, 177, 0.2);
            transform: translateX(5px);
        }
        
        .hidden-content {
            display: none;
        }
        
        /* Tab Content Styles */
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Video Section */
        .video-container {
            height: 450px;
            overflow-y: auto;
            border: 1px solid rgba(94, 53, 177, 0.2);
            border-radius: var(--border-radius);
            padding: 15px;
            background: white;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #f1f1f1;
        }
        
        .video-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .video-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .video-container::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }
        
        .video-item {
            display: flex;
            align-items: center;
            padding: 18px;
            border-bottom: 1px solid rgba(94, 53, 177, 0.1);
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px;
        }
        
        .video-item:hover {
            background-color: rgba(94, 53, 177, 0.05);
            transform: translateX(5px);
        }
        
        .video-item.locked {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .video-item.locked:hover {
            transform: none;
            background-color: transparent;
        }
        
        .video-icon {
            margin-right: 15px;
            color: var(--primary-color);
            font-size: 20px;
        }
        
        .video-title {
            flex: 1;
            font-weight: 500;
        }
        
        .video-duration {
            color: #666;
            font-size: 14px;
            background: rgba(94, 53, 177, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
        }
        
        .video-lock {
            color: #999;
            margin-left: 12px;
        }
        
        .video-free {
            color: var(--secondary-color);
            margin-left: 12px;
            font-weight: 500;
            background: rgba(67, 160, 71, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
        }
        
        /* Notes Section */
        .notes-container {
            height: 450px;
            overflow-y: auto;
            border: 1px solid rgba(94, 53, 177, 0.2);
            border-radius: var(--border-radius);
            padding: 15px;
            background: white;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #f1f1f1;
        }
        
        .notes-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .notes-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .notes-container::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }
        
        .note-item {
            display: flex;
            align-items: center;
            padding: 18px;
            border-bottom: 1px solid rgba(94, 53, 177, 0.1);
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px;
        }
        
        .note-item:hover {
            background-color: rgba(94, 53, 177, 0.05);
            transform: translateX(5px);
        }
        
        .note-item.locked {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .note-item.locked:hover {
            transform: none;
            background-color: transparent;
        }
        
        .note-icon {
            margin-right: 15px;
            color: var(--primary-color);
            font-size: 20px;
        }
        
        .note-title {
            flex: 1;
            font-weight: 500;
        }
        
        .note-lock {
            color: #999;
            margin-left: 12px;
        }
        
        .note-free {
            color: var(--secondary-color);
            margin-left: 12px;
            font-weight: 500;
            background: rgba(67, 160, 71, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
        }
        
        /* Reviews Section */
        .reviews-container {
            height: 450px;
            overflow-y: auto;
            padding: 10px 0;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #f1f1f1;
        }
        
        .reviews-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .reviews-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .reviews-container::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }
        
        .review {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            position: relative;
            transition: all 0.3s;
        }
        
        .review:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .review::before {
            content: '"';
            position: absolute;
            right: 20px;
            top: 10px;
            font-size: 60px;
            color: rgba(94, 53, 177, 0.1);
            font-family: serif;
            line-height: 1;
        }
        
        .review-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .reviewer-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
            background: var(--gradient-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 18px;
            box-shadow: 0 4px 10px rgba(94, 53, 177, 0.3);
        }
        
        .reviewer-name {
            font-weight: 600;
            font-size: 17px;
            color: var(--primary-color);
        }
        
        .review-date {
            color: #777;
            font-size: 12px;
            margin-left: auto;
            background: rgba(0, 0, 0, 0.05);
            padding: 3px 8px;
            border-radius: 4px;
        }
        
        .star-rating {
            color: #FFD700;
            margin-bottom: 12px;
            font-size: 18px;
        }
        
        .review-text {
            color: #555;
            line-height: 1.7;
            font-size: 15px;
        }
        
        .review-form {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 25px;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }
        
        .review-form.hidden {
            display: none;
        }
        
        .review-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-bg);
        }
        
        .review-form h3 {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-size: 22px;
        }
        
        .rating-select {
            margin-bottom: 20px;
        }
        
        .rating-select select {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(94, 53, 177, 0.2);
            border-radius: 8px;
            font-family: inherit;
        }
        
        .review-textarea {
            width: 100%;
            height: 120px;
            padding: 15px;
            border: 1px solid rgba(94, 53, 177, 0.2);
            border-radius: 8px;
            margin-bottom: 20px;
            font-family: inherit;
            resize: vertical;
            transition: all 0.3s;
        }
        
        .review-textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(94, 53, 177, 0.1);
        }
        
        .submit-review {
            background: var(--gradient-bg);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(94, 53, 177, 0.3);
        }
        
        .submit-review:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(94, 53, 177, 0.5);
        }
        
        .purchase-note {
            font-size: 13px;
            color: #666;
            margin-top: 15px;
            font-style: italic;
            background: rgba(0, 0, 0, 0.03);
            padding: 8px;
            border-radius: 4px;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 25px;
            border-radius: var(--border-radius);
            width: 80%;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        .close-modal {
            color: var(--primary-color);
            float: right;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .close-modal:hover {
            background: rgba(94, 53, 177, 0.1);
            transform: rotate(90deg);
        }
        
        .modal-title {
            margin-bottom: 25px;
            color: var(--primary-color);
            font-size: 26px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(94, 53, 177, 0.2);
        }
        
        .modal-pdf {
            width: 100%;
            height: 70vh;
            border: none;
            border-radius: 8px;
        }
        
        .modal-video {
            width: 100%;
            max-height: 70vh;
            border-radius: 8px;
        }
        
        .locked-message {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 20px;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 8px;
            margin: 20px 0;
        }
        
        /* Payment Form Styles */
        .payment-form {
            background: white;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-top: 20px;
        }
        
        .payment-form input,
        .payment-form select {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
        }
        
        .payment-form button {
            width: 100%;
            padding: 12px;
            background: var(--gradient-bg);
            color: white;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-form button:hover {
            opacity: 0.9;
        }
        
        .payment-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            text-align: center;
        }
        
        .success {
            background-color: rgba(67, 160, 71, 0.1);
            color: var(--secondary-color);
        }
        
        .error {
            background-color: rgba(220, 53, 69, 0.1);
            color: #dc3545;
        }
        
        .active-course-badge {
            background: var(--secondary-color);
            color: white;
            padding: 12px;
            border-radius: var(--border-radius);
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(67, 160, 71, 0.3);
        }
        
        .pending-course-badge {
            background: #FFA000;
            color: white;
            padding: 12px;
            border-radius: var(--border-radius);
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(255, 160, 0, 0.3);
        }
        
        /* Loading Spinner */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-left: 10px;
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .loading-text {
            margin-top: 15px;
            font-weight: 500;
            color: var(--primary-color);
        }
        
        @media (max-width: 768px) {
            .course-details {
                flex-direction: column-reverse;
            }
            
            .sidebar {
                order: -1;
            }
            
            .tab-container {
                overflow-x: auto;
                white-space: nowrap;
                padding-bottom: 8px;
                font-size: 14px;
                gap: 8px;
                padding: 0;
                margin-bottom: 20px;
                scrollbar-width: thin;
                scrollbar-color: var(--primary-color) #f1f1f1;
            }
            
            .tab-container::-webkit-scrollbar {
                height: 4px;
            }
            
            .tab-container::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
            }
            
            .tab-container::-webkit-scrollbar-thumb {
                background: var(--primary-color);
                border-radius: 10px;
            }
            
            .tab {
                display: inline-block;
                padding: 10px 16px;
                font-size: 14px;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
            }
            
            .modal-pdf, .modal-video {
                height: 60vh;
            }
            
            header h1 {
                font-size: 28px;
            }
            
            .content-title {
                font-size: 20px;
            }
            
            .current-price {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>প্রাকটিকাল ইবারত শিক্ষা</h1>
        </header>
        
        <div class="tab-container">
            <div class="tab active" onclick="openTab('details')">বিস্তারিত পড়ুন</div>
            <div class="tab" onclick="openTab('video')">ভিডিও</div>
            <div class="tab" onclick="openTab('notes')">নোট</div>
            <div class="tab" onclick="openTab('reviews')">কোর্স রিভিউ</div>
        </div>
        
        <div class="course-details">
            <div class="main-content">
                <div id="details" class="tab-content active">
                    <div class="content-box">
                        <div class="course-instructor">
                            <img src="https://images.w=200&h=200&fit=crop&crop=face" alt="মাওলানা মুনতাহা আহমদ" class="instructor-image">
                            <div class="instructor-details">
                                <h3>মাওলানা মুনতাহা আহমদ</h3>
                                <p>ইবারত বিশেষজ্ঞ, আল-আজহার বিশ্ববিদ্যালয়</p>
                                <p class="experience">১৫+ বছরের শিক্ষকতা অভিজ্ঞতা</p>
                            </div>
                        </div>
                        <h2 class="content-title">কোর্স সম্পর্কে জানুন</h2>
                        <p class="content-text">
                            অনেক শিক্ষক আরবি ইবারত পড়তে পারেন কিন্তু শিক্ষার্থীদের কাছে সহজভাবে বুঝিয়ে বলতে পারেন না। আবার অনেকে বই থেকে পড়ে শোনান কিন্তু ব্যাখ্যা-বিশ্লেষণ করতে পারেন না। এই সমস্যার সমাধানের জন্যই আমাদের এই কোর্স।
                        </p>
                        <p class="content-text hidden-content" id="more-content">
                            এই কোর্সের মাধ্যমে আপনি শিখবেন কীভাবে যেকোনো আরবি ইবারত সহজে পড়তে ও বুঝতে হয়। শুধু তাই নয়, অন্যদেরও শেখাতে পারবেন। নাহু-সরফের মৌলিক নিয়মকানুন থেকে শুরু করে উন্নত পর্যায়ের ইবারত বিশ্লেষণ পর্যন্ত সবকিছুই রয়েছে এই কোর্সে। ইনশাআল্লাহ এই কোর্স শেষে আপনি একজন দক্ষ ইবারত শিক্ষক হতে পারবেন।
                        </p>
                        <span class="read-more" onclick="toggleContent()">আরো পড়ুন</span>
                    </div>
                </div>
                
                <div id="video" class="tab-content">
                    <div class="content-box">
                        <h2 class="content-title">কোর্সের ভিডিও সমূহ</h2>
                        <div class="video-container">
                            <div class="video-item" onclick="openVideoModal('lesson-1')">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">১. ইবারত শিক্ষার গুরুত্ব ও প্রয়োজনীয়তা</div>
                                <div class="video-duration">৪৫ মিনিট</div>
                                <div class="video-free">ফ্রি</div>
                            </div>
                            <div class="video-item locked" onclick="showLockedMessage()" data-video-id="lesson-2">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">২. আরবি বর্ণমালা ও উচ্চারণ</div>
                                <div class="video-duration">৫৫ মিনিট</div>
                                <div class="video-lock">🔒</div>
                            </div>
                            <div class="video-item locked" onclick="showLockedMessage()" data-video-id="lesson-3">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">৩. নাহু (ব্যাকরণ) এর মৌলিক ধারণা</div>
                                <div class="video-duration">১ ঘন্টা</div>
                                <div class="video-lock">🔒</div>
                            </div>
                            <div class="video-item locked" onclick="showLockedMessage()" data-video-id="lesson-4">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">৪. সরফ (শব্দতত্ত্ব) এর মৌলিক ধারণা</div>
                                <div class="video-duration">১ ঘন্টা ১৫ মিনিট</div>
                                <div class="video-lock">🔒</div>
                            </div>
                            <div class="video-item locked" onclick="showLockedMessage()" data-video-id="lesson-5">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">৫. বাক্য গঠন ও বিশ্লেষণ</div>
                                <div class="video-duration">৫০ মিনিট</div>
                                <div class="video-lock">🔒</div>
                            </div>
                            <div class="video-item locked" onclick="showLockedMessage()" data-video-id="lesson-6">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">৬. ইবারত পড়ার কৌশল</div>
                                <div class="video-duration">৪০ মিনিট</div>
                                <div class="video-lock">🔒</div>
                            </div>
                            <div class="video-item locked" onclick="showLockedMessage()" data-video-id="lesson-7">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">৭. ইবারত অনুবাদের নিয়মকানুন</div>
                                <div class="video-duration">১ ঘন্টা ১০ মিনিট</div>
                                <div class="video-lock">🔒</div>
                            </div>
                            <div class="video-item locked" onclick="showLockedMessage()" data-video-id="lesson-8">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">৮. কুরআনের ইবারত বিশ্লেষণ</div>
                                <div class="video-duration">১ ঘন্টা ২০ মিনিট</div>
                                <div class="video-lock">🔒</div>
                            </div>
                            <div class="video-item locked" onclick="showLockedMessage()" data-video-id="lesson-9">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">৯. হাদিসের ইবারত বিশ্লেষণ</div>
                                <div class="video-duration">১ ঘন্টা ৩০ মিনিট</div>
                                <div class="video-lock">🔒</div>
                            </div>
                            <div class="video-item locked" onclick="showLockedMessage()" data-video-id="lesson-10">
                                <div class="video-icon">▶️</div>
                                <div class="video-title">১০. ইবারত শিক্ষার প্রায়োগিক কৌশল</div>
                                <div class="video-duration">৫৫ মিনিট</div>
                                <div class="video-lock">🔒</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="notes" class="tab-content">
                    <div class="content-box">
                        <h2 class="content-title">কোর্সের নোট সমূহ</h2>
                        <div class="notes-container">
                            <div class="note-item" onclick="openNoteModal('note-1')">
                                <div class="note-icon">📄</div>
                                <div class="note-title">১. ইবারত শিক্ষার মৌলিক ধারণা</div>
                                <div class="note-free">ফ্রি</div>
                            </div>
                            <div class="note-item locked" onclick="showLockedMessage()" data-note-id="note-2">
                                <div class="note-icon">📄</div>
                                <div class="note-title">২. আরবি ব্যাকরণের মূল নিয়মাবলী</div>
                                <div class="note-lock">🔒</div>
                            </div>
                            <div class="note-item locked" onclick="showLockedMessage()" data-note-id="note-3">
                                <div class="note-icon">📄</div>
                                <div class="note-title">৩. নাহু শিক্ষার ধাপসমূহ</div>
                                <div class="note-lock">🔒</div>
                            </div>
                            <div class="note-item locked" onclick="showLockedMessage()" data-note-id="note-4">
                                <div class="note-icon">📄</div>
                                <div class="note-title">৪. সরফ শিক্ষার ধাপসমূহ</div>
                                <div class="note-lock">🔒</div>
                            </div>
                            <div class="note-item locked" onclick="showLockedMessage()" data-note-id="note-5">
                                <div class="note-icon">📄</div>
                                <div class="note-title">৫. ইবারত বিশ্লেষণের কৌশল</div>
                                <div class="note-lock">🔒</div>
                            </div>
                            <div class="note-item locked" onclick="showLockedMessage()" data-note-id="note-6">
                                <div class="note-icon">📄</div>
                                <div class="note-title">৬. অনুবাদের নীতিমালা</div>
                                <div class="note-lock">🔒</div>
                            </div>
                            <div class="note-item locked" onclick="showLockedMessage()" data-note-id="note-7">
                                <div class="note-icon">📄</div>
                                <div class="note-title">৭. কুরআনি ইবারতের বৈশিষ্ট্য</div>
                                <div class="note-lock">🔒</div>
                            </div>
                            <div class="note-item locked" onclick="showLockedMessage()" data-note-id="note-8">
                                <div class="note-icon">📄</div>
                                <div class="note-title">৮. হাদিসি ইবারতের বৈশিষ্ট্য</div>
                                <div class="note-lock">🔒</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="reviews" class="tab-content">
                    <div class="reviews-container">
                        <div class="review">
                            <div class="review-header">
                                <div class="reviewer-avatar">আ</div>
                                <div>
                                    <div class="reviewer-name">আবু বকর সিদ্দিক</div>
                                    <div class="star-rating">⭐⭐⭐⭐⭐</div>
                                </div>
                                <div class="review-date">২০ দিন আগে</div>
                            </div>
                            <div class="review-text">
                                অসাধারণ কোর্স! মাওলানা মুনতাহা আহমদ সাহেবের শিক্ষা পদ্ধতি অত্যন্ত কার্যকর। আমি এখন আরবি ইবারত সহজেই পড়তে ও বুঝতে পারি। আল্লাহ তাঁর উত্তম প্রতিদান দিন।
                            </div>
                        </div>
                        
                        <div class="review">
                            <div class="review-header">
                                <div class="reviewer-avatar">ম</div>
                                <div>
                                    <div class="reviewer-name">মুহাম্মদ কাসেম</div>
                                    <div class="star-rating">⭐⭐⭐⭐⭐</div>
                                </div>
                                <div class="review-date">১৫ দিন আগে</div>
                            </div>
                            <div class="review-text">
                                দীর্ঘদিন ধরে আরবি ইবারত নিয়ে সমস্যায় ছিলাম। এই কোর্সটি আমার সমস্যার সমাধান করে দিয়েছে। প্রতিটি লেসন অত্যন্ত সুন্দরভাবে সাজানো।
                            </div>
                        </div>
                        
                        <div class="review">
                            <div class="review-header">
                                <div class="reviewer-avatar">ফ</div>
                                <div>
                                    <div class="reviewer-name">ফাতিমা খাতুন</div>
                                    <div class="star-rating">⭐⭐⭐⭐⭐</div>
                                </div>
                                <div class="review-date">১০ দিন আগে</div>
                            </div>
                            <div class="review-text">
                                মা হিসেবে আমি আমার সন্তানদের আরবি শেখাতে চাইছিলাম। এই কোর্সটি আমাকে সেই যোগ্যতা দিয়েছে। খুবই উপকারী কোর্স।
                            </div>
                        </div>
                        
                        <div class="review">
                            <div class="review-header">
                                <div class="reviewer-avatar">আ</div>
                                <div>
                                    <div class="reviewer-name">আব্দুল্লাহ আল মামুন</div>
                                    <div class="star-rating">⭐⭐⭐⭐⭐</div>
                                </div>
                                <div class="review-date">৫ দিন আগে</div>
                            </div>
                            <div class="review-text">
                                মাদরাসার শিক্ষক হিসেবে এই কোর্সটি আমার শিক্ষকতার মান অনেক বৃদ্ধি করেছে। ছাত্রদের কাছে এখন আরো সহজভাবে বিষয়টি উপস্থাপন করতে পারি।
                            </div>
                        </div>
                    </div>
                    
                    <div class="review-form hidden" id="reviewForm">
                        <h3>আপনার রিভিউ লিখুন</h3>
                        <div class="rating-select">
                            <select id="rating">
                                <option value="">রেটিং নির্বাচন করুন</option>
                                <option value="5">⭐⭐⭐⭐⭐ (৫ স্টার)</option>
                                <option value="4">⭐⭐⭐⭐ (৪ স্টার)</option>
                                <option value="3">⭐⭐⭐ (৩ স্টার)</option>
                                <option value="2">⭐⭐ (২ স্টার)</option>
                                <option value="1">⭐ (১ স্টার)</option>
                            </select>
                        </div>
                        <textarea class="review-textarea" id="reviewText" placeholder="আপনার অভিজ্ঞতা লিখুন..."></textarea>
                        <button class="submit-review" onclick="submitReview()">রিভিউ জমা দিন</button>
                    </div>
                </div>
            </div>
            
            <div class="sidebar">
                <img src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=400&h=250&fit=crop" alt="কোর্স ইমেজ" class="course-image">
                
                <div id="pricing-section" class="course-pricing">
                    <div class="price">
                        <span class="current-price">৳ ১,৫০০</span>
                        <span class="original-price">৳ ৩,০০০</span>
                    </div>
                    <a href="#" class="buy-btn" onclick="purchaseCourse()">এখনই কিনুন</a>
                    <div class="course-stats">
                        <div class="stat-item">
                            <span class="stat-icon">👥</span>
                            <span>১২,৫০০+ শিক্ষার্থী</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">📺</span>
                            <span>১০টি ভিডিও লেসন</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">⏱️</span>
                            <span>মোট ৮ ঘন্টা</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">📄</span>
                            <span>৮টি পিডিএফ নোট</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">🏆</span>
                            <span>সার্টিফিকেট</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">♾️</span>
                            <span>আজীবন এক্সেস</span>
                        </div>
                    </div>
                </div>
                
                <div id="what-you-learn" class="content-box">
                    <h2 class="content-title">কোর্সে যা শিখবেন</h2>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">✓</span>
                            আরবি ইবারত সঠিকভাবে পড়ার কৌশল
                        </li>
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">✓</span>
                            ইবারত বিশ্লেষণ ও অনুবাদের নিয়মাবলী
                        </li>
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">✓</span>
                            নাহু-সরফের প্রয়োগিক ব্যবহার
                        </li>
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">✓</span>
                            কুরআন-হাদিসের ইবারত বুঝার কৌশল
                        </li>
                        <li style="margin-bottom: 10px; padding-left: 25px; position: relative;">
                            <span style="position: absolute; left: 0; color: var(--secondary-color);">✓</span>
                            শিক্ষকতার দক্ষতা বৃদ্ধি
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal for Videos -->
    <div id="videoModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('videoModal')">&times;</span>
            <h2 class="modal-title" id="videoTitle">ভিডিও লেসন</h2>
            <div id="videoContent">
                <video class="modal-video" controls>
                    <source src="" type="video/mp4">
                    আপনার ব্রাউজার ভিডিও সাপোর্ট করে না।
                </video>
            </div>
        </div>
    </div>
    
    <!-- Modal for Notes -->
    <div id="noteModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('noteModal')">&times;</span>
            <h2 class="modal-title" id="noteTitle">নোট</h2>
            <div id="noteContent">
                <iframe class="modal-pdf" src=""></iframe>
            </div>
        </div>
    </div>
    
    <!-- Modal for Locked Content -->
    <div id="lockedModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('lockedModal')">&times;</span>
            <h2 class="modal-title">সীমিত কন্টেন্ট</h2>
            <div class="locked-message">
                <p>এই কন্টেন্টটি দেখতে হলে আপনাকে কোর্সটি ক্রয় করতে হবে।</p>
                
                <div class="payment-section" style="margin-top: 30px;">
                    <h3 style="color: var(--primary-color); margin-bottom: 15px;">ম্যানুয়াল পেমেন্ট করুন</h3>
                    <p style="margin-bottom: 20px;">বিকাশ নাম্বার: ০১৯১১-৫৬৭৮৯০ (Personal)</p>
                    
                    <form id="manualPaymentForm" style="background: #f9f9f9; padding: 20px; border-radius: 8px;">
                        <div style="margin-bottom: 15px;">
                            <input type="text" name="name" placeholder="আপনার নাম" required 
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <input type="email" name="email" placeholder="আপনার ইমেইল" required 
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <input type="text" name="phone" placeholder="মোবাইল নাম্বার" required 
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div style="margin-bottom: 15px;">
                            <input type="text" name="txnId" placeholder="Transaction ID" required 
                                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div style="margin-bottom: 20px;">
                            <select name="paymentMethod" required 
                                    style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                                <option value="">পেমেন্ট মাধ্যম নির্বাচন করুন</option>
                                <option value="bkash">বিকাশ</option>
                                <option value="nagad">নগদ</option>
                                <option value="bank">ব্যাংক</option>
                            </select>
                        </div>
                        <input type="hidden" name="courseId" value="practical-ibarot">
                        <button type="submit" 
                                style="background: var(--gradient-bg); color: white; border: none; padding: 12px 20px; 
                                       width: 100%; border-radius: 4px; cursor: pointer; font-weight: 500;">
                            সাবমিট করুন
                        </button>
                    </form>
                    
                    <p id="paymentMessage" style="margin-top: 15px; text-align: center;"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==============================================
        // FRONTEND APPLICATION CODE
        // ==============================================

        // Course access state management (persistent across page refresh)
        let courseAccess = {
            isPurchased: false,
            userEmail: null,
            purchaseDate: null,
            isPending: false,
            pendingUntil: null
        };

        // Video protection functions
        function disableDownloads() {
            // Disable right-click context menu on videos and PDFs
            document.addEventListener('contextmenu', function(e) {
                if (e.target.tagName === 'VIDEO' || 
                    e.target.tagName === 'IFRAME' || 
                    e.target.closest('.modal-pdf-container') ||
                    e.target.closest('.modal-video')) {
                    e.preventDefault();
                    showProtectionAlert();
                    return false;
                }
            });

            // Disable keyboard shortcuts for downloading/saving
            document.addEventListener('keydown', function(e) {
                // Disable Ctrl+S, Ctrl+Shift+I, F12, Ctrl+U, etc.
                if ((e.ctrlKey && (e.key === 's' || e.key === 'S')) || 
                    (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i')) ||
                    (e.key === 'F12') ||
                    (e.ctrlKey && (e.key === 'u' || e.key === 'U')) ||
                    (e.ctrlKey && (e.key === 'p' || e.key === 'P'))) {
                    
                    // Only prevent if video or PDF is open
                    if (document.getElementById('videoModal').style.display === 'block' ||
                        document.getElementById('noteModal').style.display === 'block') {
                        e.preventDefault();
                        showProtectionAlert();
                        return false;
                    }
                }
            });

            // Disable drag and drop
            document.addEventListener('dragstart', function(e) {
                if (e.target.tagName === 'VIDEO' || e.target.tagName === 'IFRAME') {
                    e.preventDefault();
                    showProtectionAlert();
                    return false;
                }
            });

            // Disable text selection
            document.addEventListener('selectstart', function(e) {
                if (e.target.tagName === 'VIDEO' || 
                    e.target.tagName === 'IFRAME' || 
                    e.target.closest('.modal-pdf-container') ||
                    e.target.closest('.modal-video')) {
                    e.preventDefault();
                    return false;
                }
            });
        }

        // Show protection alert
        function showProtectionAlert() {
            const alertDiv = document.createElement('div');
            alertDiv.innerHTML = `
                <div style="
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #ff4757;
                    color: white;
                    padding: 15px 20px;
                    border-radius: 8px;
                    z-index: 10000;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                    font-family: 'Hind Siliguri', sans-serif;
                    max-width: 300px;
                ">
                    <strong>⚠️ সতর্কতা!</strong><br>
                    এই কন্টেন্ট সুরক্ষিত এবং ডাউনলোড করা যাবে না।
                </div>
            `;
            document.body.appendChild(alertDiv);
            
            // Auto remove after 3 seconds
            setTimeout(() => {
                if (alertDiv.parentNode) {
                    alertDiv.parentNode.removeChild(alertDiv);
                }
            }, 3000);
        }

        // Enhanced video player with protection
        function createProtectedVideoPlayer(videoUrl, title) {
            return `
                <div class="video-container" style="position: relative; user-select: none;">
                    <video 
                        class="modal-video" 
                        controls 
                        autoplay
                        controlslist="nodownload nofullscreen noremoteplayback"
                        disablepictureinpicture
                        oncontextmenu="return false;"
                        ondragstart="return false;"
                        onselectstart="return false;"
                        style="
                            width: 100%;
                            height: auto;
                            pointer-events: auto;
                            -webkit-user-select: none;
                            -moz-user-select: none;
                            -ms-user-select: none;
                            user-select: none;
                        "
                    >
                        <source src="${videoUrl}" type="video/mp4">
                        আপনার ব্রাউজার ভিডিও সাপোর্ট করে না।
                    </video>
                    <div style="
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        pointer-events: none;
                        background: transparent;
                        z-index: 1;
                    "></div>
                </div>
                <div style="
                    text-align: center;
                    margin-top: 10px;
                    font-size: 12px;
                    color: #666;
                    font-style: italic;
                ">
                    🔒 এই ভিডিওটি কপিরাইট সুরক্ষিত
                </div>
            `;
        }

        // Create protected PDF viewer function
        function createProtectedPdfViewer(pdfUrl, title) {
            // Generate watermark text with user info if available
            const watermarkText = courseAccess.userEmail 
                ? `প্রাইভেট কপি - ${courseAccess.userEmail}` 
                : 'প্রাইভেট কপি - অননুমোদিত ডাউনলোড নিষিদ্ধ';
            
            return `
                <div class="modal-pdf-container">
                    <div class="pdf-viewer-container">
                        <iframe 
                            class="modal-pdf" 
                            src="${pdfUrl}#toolbar=0&navpanes=0"
                            oncontextmenu="return false;"
                            ondragstart="return false;"
                            onselectstart="return false;"
                            style="
                                pointer-events: auto;
                                -webkit-user-select: none;
                                -moz-user-select: none;
                                -ms-user-select: none;
                                user-select: none;
                            "
                        ></iframe>
                        <div class="pdf-protection-overlay"></div>
                        <div class="pdf-watermark" style="
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%) rotate(-45deg);
                            font-size: 24px;
                            color: rgba(255,0,0,0.2);
                            white-space: nowrap;
                            pointer-events: none;
                            z-index: 10;
                        ">${watermarkText}</div>
                    </div>
                    <div style="
                        text-align: center;
                        margin-top: 10px;
                        font-size: 12px;
                        color: #666;
                        font-style: italic;
                    ">
                        🔒 এই নোটটি কপিরাইট সুরক্ষিত এবং ডাউনলোড করা যাবে না
                    </div>
                </div>
            `;
        }

        // Load course access state from localStorage on page load
        function loadCourseState() {
            try {
                const savedState = localStorage.getItem('courseAccess_practical_ibarot');
                if (savedState) {
                    courseAccess = JSON.parse(savedState);
                }
            } catch (error) {
                console.log('Error loading course state:', error);
            }
        }

        // Save course access state to localStorage
        function saveCourseState() {
            try {
                localStorage.setItem('courseAccess_practical_ibarot', JSON.stringify(courseAccess));
            } catch (error) {
                console.log('Error saving course state:', error);
            }
        }

        // Tab functionality
        function openTab(tabName) {
            var i, tabcontent, tabs;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            tabs = document.getElementsByClassName("tab");
            for (i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove("active");
            }
            document.getElementById(tabName).classList.add("active");
            event.currentTarget.classList.add("active");
        }

        // Toggle content functionality
        function toggleContent() {
            var content = document.getElementById('more-content');
            var button = document.querySelector('.read-more');
            
            if (content.classList.contains('hidden-content')) {
                content.classList.remove('hidden-content');
                content.style.display = 'block';
                button.textContent = 'কম পড়ুন';
            } else {
                content.classList.add('hidden-content');
                content.style.display = 'none';
                button.textContent = 'আরো পড়ুন';
            }
        }

        // Enhanced video modal functionality with protection
        function openVideoModal(videoId) {
            // Check if course is pending
            if (courseAccess.isPending) {
                showPendingMessage();
                return;
            }
            
            // Check if course is purchased
            if (!courseAccess.isPurchased && videoId !== 'lesson-1') {
                showLockedMessage();
                return;
            }

            const videos = {
                'lesson-1': {
                    title: 'ইবারত শিক্ষার গুরুত্ব ও প্রয়োজনীয়তা',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                },
                'lesson-2': {
                    title: 'আরবি বর্ণমালা ও উচ্চারণ',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                },
                'lesson-3': {
                    title: 'নাহু (ব্যাকরণ) এর মৌলিক ধারণা',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                },
                'lesson-4': {
                    title: 'সরফ (শব্দতত্ত্ব) এর মৌলিক ধারণা',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                },
                'lesson-5': {
                    title: 'বাক্য গঠন ও বিশ্লেষণ',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                },
                'lesson-6': {
                    title: 'ইবারত পড়ার কৌশল',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                },
                'lesson-7': {
                    title: 'ইবারত অনুবাদের নিয়মকানুন',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                },
                'lesson-8': {
                    title: 'কুরআনের ইবারত বিশ্লেষণ',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                },
                'lesson-9': {
                    title: 'হাদিসের ইবারত বিশ্লেষণ',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                },
                'lesson-10': {
                    title: 'ইবারত শিক্ষার প্রায়োগিক কৌশল',
                    url: 'https://res.cloudinary.com/ddtfpqimk/video/upload/v1753088101/video_esq7dv.mp4'
                }
            };

            if (videos[videoId]) {
                const video = videos[videoId];
                document.getElementById('videoTitle').textContent = video.title;
                document.getElementById('videoContent').innerHTML = createProtectedVideoPlayer(video.url, video.title);
                document.getElementById('videoModal').style.display = 'block';
                
                // Add additional protection when video modal opens
                setTimeout(() => {
                    const videoElement = document.querySelector('#videoModal video');
                    if (videoElement) {
                        // Prevent video URL inspection
                        videoElement.addEventListener('loadstart', function() {
                            // Additional obfuscation
                            this.style.outline = 'none';
                        });
                        
                        // Monitor for developer tools
                        let devtools = {open: false, orientation: null};
                        setInterval(() => {
                            if (videoElement && document.getElementById('videoModal').style.display === 'block') {
                                if (window.outerHeight - window.innerHeight > 160 || window.outerWidth - window.innerWidth > 160) {
                                    if (!devtools.open) {
                                        devtools.open = true;
                                        videoElement.pause();
                                        showProtectionAlert();
                                    }
                                } else {
                                    devtools.open = false;
                                }
                            }
                        }, 500);
                    }
                }, 100);
            }
        }

        // Note modal functionality
        function openNoteModal(noteId) {
            // Check if course is pending
            if (courseAccess.isPending) {
                showPendingMessage();
                return;
            }
            
            // Check if course is purchased
            if (!courseAccess.isPurchased && noteId !== 'note-1') {
                showLockedMessage();
                return;
            }

            const noteData = {
                'note-1': {
                    title: 'ইবারত শিক্ষার মৌলিক ধারণা',
                    pdfUrl: 'https://example.com/path/to/note1.pdf',
                    content: `
                        <div style="padding: 20px;">
                            <h3 style="color: var(--primary-color); margin-bottom: 15px;">ইবারত শিক্ষার মৌলিক ধারণা</h3>
                            <p style="line-height: 1.8; margin-bottom: 15px;">
                                আরবি ভাষায় 'ইবারত' শব্দের অর্থ হলো বাক্য বা বক্তব্য। ইসলামী শিক্ষায় ইবারত বলতে বোঝায়
                                কুরআন, হাদিস বা অন্যান্য আরবি গ্রন্থের বাক্যাংশ যা বিশ্লেষণ ও ব্যাখ্যার মাধ্যমে বুঝতে হয়।
                            </p>
                            <h4 style="color: var(--primary-color); margin: 20px 0 10px 0;">ইবারত শিক্ষার গুরুত্ব:</h4>
                            <ul style="margin-left: 20px; line-height: 1.8;">
                                <li>কুরআন-হাদিস বুঝার জন্য অপরিহার্য</li>
                                <li>ইসলামী জ্ঞান অর্জনের মূল চাবিকাঠি</li>
                                <li>আরবি ভাষার গভীর জ্ঞান লাভ</li>
                                <li>ধর্মীয় শিক্ষকতার জন্য প্রয়োজনীয়</li>
                            </ul>
                        </div>
                    `
                },
                'note-2': {
                    title: 'আরবি ব্যাকরণের মূল নিয়মাবলী',
                    pdfUrl: 'https://example.com/path/to/note2.pdf',
                    content: `
                        <div style="padding: 20px;">
                            <h3 style="color: var(--primary-color); margin-bottom: 15px;">আরবি ব্যাকরণের মূল নিয়মাবলী</h3>
                            <p style="line-height: 1.8; margin-bottom: 15px;">
                                আরবি ব্যাকরণ বা নাহু হলো সেই শাস্ত্র যা আরবি ভাষার বাক্য গঠনের নিয়মাবলী নিয়ে আলোচনা করে।
                            </p>
                        </div>
                    `
                },
                'note-3': {
                    title: 'নাহু শিক্ষার ধাপসমূহ',
                    pdfUrl: 'https://example.com/path/to/note3.pdf',
                    content: `
                        <div style="padding: 20px;">
                            <h3 style="color: var(--primary-color); margin-bottom: 15px;">নাহু শিক্ষার ধাপসমূহ</h3>
                            <p style="line-height: 1.8; margin-bottom: 15px;">
                                নাহু শিক্ষার জন্য ক্রমানুসারে বিভিন্ন ধাপ অনুসরণ করতে হয়।
                            </p>
                        </div>
                    `
                },
                'note-4': {
                    title: 'সরফ শিক্ষার ধাপসমূহ',
                    pdfUrl: 'https://example.com/path/to/note4.pdf',
                    content: `
                        <div style="padding: 20px;">
                            <h3 style="color: var(--primary-color); margin-bottom: 15px;">সরফ শিক্ষার ধাপসমূহ</h3>
                            <p style="line-height: 1.8; margin-bottom: 15px;">
                                সরফ শিক্ষার জন্য নির্দিষ্ট ধাপ অনুসরণ করতে হয়।
                            </p>
                        </div>
                    `
                },
                'note-5': {
                    title: 'ইবারত বিশ্লেষণের কৌশল',
                    pdfUrl: 'https://example.com/path/to/note5.pdf',
                    content: `
                        <div style="padding: 20px;">
                            <h3 style="color: var(--primary-color); margin-bottom: 15px;">ইবারত বিশ্লেষণের কৌশল</h3>
                            <p style="line-height: 1.8; margin-bottom: 15px;">
                                ইবারত বিশ্লেষণের জন্য বিশেষ কৌশল প্রয়োজন।
                            </p>
                        </div>
                    `
                },
                'note-6': {
                    title: 'অনুবাদের নীতিমালা',
                    pdfUrl: 'https://example.com/path/to/note6.pdf',
                    content: `
                        <div style="padding: 20px;">
                            <h3 style="color: var(--primary-color); margin-bottom: 15px;">অনুবাদের নীতিমালা</h3>
                            <p style="line-height: 1.8; margin-bottom: 15px;">
                                সঠিক অনুবাদের জন্য নির্দিষ্ট নীতিমালা অনুসরণ করতে হয়।
                            </p>
                        </div>
                    `
                },
                'note-7': {
                    title: 'কুরআনি ইবারতের বৈশিষ্ট্য',
                    pdfUrl: 'https://example.com/path/to/note7.pdf',
                    content: `
                        <div style="padding: 20px;">
                            <h3 style="color: var(--primary-color); margin-bottom: 15px;">কুরআনি ইবারতের বৈশিষ্ট্য</h3>
                            <p style="line-height: 1.8; margin-bottom: 15px;">
                                কুরআনি ইবারতের বিশেষ বৈশিষ্ট্য রয়েছে।
                            </p>
                        </div>
                    `
                },
                'note-8': {
                    title: 'হাদিসি ইবারতের বৈশিষ্ট্য',
                    pdfUrl: 'https://example.com/path/to/note8.pdf',
                    content: `
                        <div style="padding: 20px;">
                            <h3 style="color: var(--primary-color); margin-bottom: 15px;">হাদিসি ইবারতের বৈশিষ্ট্য</h3>
                            <p style="line-height: 1.8; margin-bottom: 15px;">
                                হাদিসি ইবারতের নিজস্ব বৈশিষ্ট্য রয়েছে।
                            </p>
                        </div>
                    `
                }
            };

            if (noteData[noteId]) {
                const note = noteData[noteId];
                document.getElementById('noteTitle').textContent = note.title;
                
                // Use PDF viewer if URL available, otherwise fallback to content
                if (note.pdfUrl) {
                    document.getElementById('noteContent').innerHTML = createProtectedPdfViewer(note.pdfUrl, note.title);
                } else {
                    document.getElementById('noteContent').innerHTML = note.content;
                }
                
                document.getElementById('noteModal').style.display = 'block';

                // Add additional protection
                setTimeout(() => {
                    const iframe = document.querySelector('#noteModal iframe');
                    if (iframe) {
                        // Prevent iframe URL inspection
                        iframe.addEventListener('load', function() {
                            this.style.outline = 'none';
                            this.contentDocument.addEventListener('contextmenu', function(e) {
                                e.preventDefault();
                                showProtectionAlert();
                                return false;
                            });
                        });
                    }
                }, 100);
            }
        }

        // Show locked message
        function showLockedMessage() {
            document.getElementById('lockedModal').style.display = 'block';
        }

        // Show pending message for locked content
        function showPendingMessage() {
            const modalContent = `
                <div style="text-align: center; padding: 20px;">
                    <h3 style="color: var(--primary-color); margin-bottom: 15px;">কোর্সটি প্রক্রিয়াধীন</h3>
                    <p style="margin-bottom: 15px;">
                        আপনার কোর্সটি এখনও সক্রিয় হয়নি। অনুগ্রহ করে কোর্সটি খুলতে আগামী ২৪ ঘন্টা সময় দিন।
                    </p>
                    <button onclick="closeModal('lockedModal')" style="
                        background: var(--primary-color);
                        color: white;
                        border: none;
                        padding: 10px 20px;
                        border-radius: 4px;
                        cursor: pointer;
                    ">
                        ঠিক আছে
                    </button>
                </div>
            `;
            
            document.getElementById('lockedModal').style.display = 'block';
            document.querySelector('#lockedModal .modal-content').innerHTML = `
                <span class="close-modal" onclick="closeModal('lockedModal')">&times;</span>
                ${modalContent}
            `;
        }

        // Close modal
        function closeModal(modalId) {
            document // Clear video/note content when modal closes
        if (modalId === 'videoModal') {
            document.getElementById('videoContent').innerHTML = '';
        } else if (modalId === 'noteModal') {
            document.getElementById('noteContent').innerHTML = '';
        }
    }

    // Purchase course function
    async function purchaseCourse() {
        // Show loading overlay
        const loadingOverlay = document.createElement('div');
        loadingOverlay.className = 'loading-overlay';
        loadingOverlay.innerHTML = `
            <div class="loading-content">
                <i class="fas fa-spinner fa-spin" style="font-size: 40px; color: var(--primary-color);"></i>
                <p class="loading-text">কোর্স ক্রয় প্রক্রিয়া চলছে...</p>
            </div>
        `;
        document.body.appendChild(loadingOverlay);
        
        try {
            // Simulate payment processing (in real app, this would connect to payment gateway)
            setTimeout(async () => {
                // Create mock purchase data
                const purchaseData = {
                    courseId: 'practical-ibarot',
                    courseName: 'প্রাকটিকাল ইবারত শিক্ষা',
                    amount: 1500,
                    currency: 'BDT',
                    userEmail: 'user@example.com', // In real app, get from form
                    paymentMethod: 'bkash', // In real app, get from form
                    transactionId: 'TXN' + Math.floor(Math.random() * 1000000)
                };
                
                // Call backend API to process purchase
                const response = await backendAPI.purchaseCourse(purchaseData);
                
                // Update course access state
                courseAccess = {
                    isPurchased: true,
                    userEmail: purchaseData.userEmail,
                    purchaseDate: new Date().toISOString(),
                    isPending: false,
                    pendingUntil: null
                };
                
                // Save to localStorage
                saveCourseState();
                
                // Update UI
                updateUIAfterPurchase();
                
                // Hide loading overlay
                document.body.removeChild(loadingOverlay);
                
                // Show success message
                alert('কোর্সটি সফলভাবে ক্রয় করা হয়েছে! এখন আপনি সকল কন্টেন্ট অ্যাক্সেস করতে পারবেন।');
                
            }, 2000); // Simulate 2 second delay for payment processing
            
        } catch (error) {
            // Hide loading overlay
            document.body.removeChild(loadingOverlay);
            
            // Show error message
            alert('কোর্স ক্রয় প্রক্রিয়ায় সমস্যা হয়েছে। অনুগ্রহ করে আবার চেষ্টা করুন।');
            console.error('Purchase error:', error);
        }
    }

    // Update UI after purchase
    function updateUIAfterPurchase() {
        // Change buy button to active course button
        const pricingSection = document.getElementById('pricing-section');
        pricingSection.innerHTML = `
            <div class="active-course-badge">
                <i class="fas fa-check-circle"></i> আপনি এই কোর্সটি ক্রয় করেছেন
            </div>
            <div class="course-stats">
                <div class="stat-item">
                    <span class="stat-icon">📅</span>
                    <span>ক্রয়ের তারিখ: ${new Date().toLocaleDateString('bn-BD')}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">👤</span>
                    <span>ইমেইল: ${courseAccess.userEmail}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">📺</span>
                    <span>১০টি ভিডিও লেসন</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">⏱️</span>
                    <span>মোট ৮ ঘন্টা</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">📄</span>
                    <span>৮টি পিডিএফ নোট</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">🏆</span>
                    <span>সার্টিফিকেট</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">♾️</span>
                    <span>আজীবন এক্সেস</span>
                </div>
            </div>
        `;
        
        // Enable review form
        document.getElementById('reviewForm').classList.remove('hidden');
        
        // Unlock all video and note items (remove locked class)
        document.querySelectorAll('.video-item.locked').forEach(item => {
            item.classList.remove('locked');
            item.onclick = function() {
                openVideoModal(this.getAttribute('data-video-id'));
            };
        });
        
        document.querySelectorAll('.note-item.locked').forEach(item => {
            item.classList.remove('locked');
            item.onclick = function() {
                openNoteModal(this.getAttribute('data-note-id'));
            };
        });
    }

    // Handle manual payment form submission
    document.getElementById('manualPaymentForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const paymentData = {
            name: formData.get('name'),
            email: formData.get('email'),
            phone: formData.get('phone'),
            txnId: formData.get('txnId'),
            paymentMethod: formData.get('paymentMethod'),
            courseId: formData.get('courseId'),
            amount: 1500,
            currency: 'BDT'
        };
        
        // Show loading state
        const submitBtn = this.querySelector('button[type="submit"]');
        const originalBtnText = submitBtn.innerHTML;
        submitBtn.innerHTML = 'প্রক্রিয়াধীন... <span class="loading-spinner"></span>';
        submitBtn.disabled = true;
        
        try {
            // In real app, this would call backend API
            await new Promise(resolve => setTimeout(resolve, 1500)); // Simulate API call
            
            // Update course access state (pending until verification)
            courseAccess = {
                isPurchased: false,
                userEmail: paymentData.email,
                purchaseDate: null,
                isPending: true,
                pendingUntil: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString() // 24 hours from now
            };
            
            saveCourseState();
            
            // Show success message
            document.getElementById('paymentMessage').innerHTML = `
                <div class="success">
                    <i class="fas fa-check-circle"></i> আপনার পেমেন্ট তথ্য সফলভাবে জমা হয়েছে। 
                    পেমেন্ট ভেরিফিকেশনের পর কোর্সটি একটিভ হবে (২৪ ঘন্টার মধ্যে)।
                </div>
            `;
            
            // Close modal after 3 seconds
            setTimeout(() => {
                closeModal('lockedModal');
                document.getElementById('paymentMessage').innerHTML = '';
                
                // Update UI to show pending state
                updateUIPendingVerification();
            }, 3000);
            
        } catch (error) {
            document.getElementById('paymentMessage').innerHTML = `
                <div class="error">
                    <i class="fas fa-exclamation-circle"></i> পেমেন্ট জমা দিতে সমস্যা হয়েছে। অনুগ্রহ করে আবার চেষ্টা করুন।
                </div>
            `;
            console.error('Payment submission error:', error);
        } finally {
            submitBtn.innerHTML = originalBtnText;
            submitBtn.disabled = false;
        }
    });

    // Update UI for pending verification state
    function updateUIPendingVerification() {
        const pricingSection = document.getElementById('pricing-section');
        pricingSection.innerHTML = `
            <div class="pending-course-badge">
                <i class="fas fa-clock"></i> আপনার কোর্সটি ভেরিফিকেশন প্রক্রিয়াধীন
            </div>
            <div class="course-stats">
                <div class="stat-item">
                    <span class="stat-icon">📅</span>
                    <span>আবেদনের তারিখ: ${new Date().toLocaleDateString('bn-BD')}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">👤</span>
                    <span>ইমেইল: ${courseAccess.userEmail}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">⏳</span>
                    <span>স্ট্যাটাস: প্রক্রিয়াধীন</span>
                </div>
            </div>
        `;
    }

    // Submit review function
    async function submitReview() {
        const rating = document.getElementById('rating').value;
        const reviewText = document.getElementById('reviewText').value.trim();
        
        if (!rating) {
            alert('অনুগ্রহ করে রেটিং নির্বাচন করুন');
            return;
        }
        
        if (!reviewText) {
            alert('অনুগ্রহ করে আপনার রিভিউ লিখুন');
            return;
        }
        
        const reviewData = {
            courseId: 'practical-ibarot',
            rating: parseInt(rating),
            review: reviewText,
            userName: 'Current User', // In real app, get from user profile
            userEmail: courseAccess.userEmail || 'anonymous@example.com'
        };
        
        try {
            // Call backend API to submit review
            const response = await backendAPI.submitReview(reviewData);
            
            // Show success message
            alert('আপনার রিভিউ সফলভাবে জমা হয়েছে!');
            
            // Clear form
            document.getElementById('rating').value = '';
            document.getElementById('reviewText').value = '';
            
            // Refresh reviews (in real app, would fetch from backend)
            location.reload();
            
        } catch (error) {
            alert('রিভিউ জমা দিতে সমস্যা হয়েছে। অনুগ্রহ করে আবার চেষ্টা করুন।');
            console.error('Review submission error:', error);
        }
    }

    // Handle API errors
    function handleApiError(error) {
        // In a real app, would show user-friendly error messages
        console.error('API Error:', error);
        
        // Show error to user
        alert('সিস্টেমে একটি সমস্যা হয়েছে। অনুগ্রহ করে কিছুক্ষণ পর আবার চেষ্টা করুন।');
    }

    // Initialize the page
    function init() {
        // Load course access state
        loadCourseState();
        
        // Check if user has purchased the course
        if (courseAccess.isPurchased) {
            updateUIAfterPurchase();
        } else if (courseAccess.isPending) {
            updateUIPendingVerification();
        }
        
        // Set up content protection
        disableDownloads();
        
        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.className === 'modal') {
                event.target.style.display = 'none';
                
                // Clear video/note content when modal closes
                if (event.target.id === 'videoModal') {
                    document.getElementById('videoContent').innerHTML = '';
                } else if (event.target.id === 'noteModal') {
                    document.getElementById('noteContent').innerHTML = '';
                }
            }
        };
    }

    // Initialize when page loads
    window.onload = init;
</script>




</body>
</html>

            